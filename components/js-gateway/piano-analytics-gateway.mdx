---
title: Piano Analytics Gateway
description: Piano Analytics SDK boosted with the edge, the only way of collecting first party data
---

<img src="/images/banners/piano-gateway.png" className="rounded-lg" noZoom />

import EdgeeSdk from '/snippets/edgee-sdk.mdx';

<EdgeeSdk />

Piano Analytics is a powerful analytics platform that provides comprehensive data collection and analysis capabilities. 
However, like many analytics tools, it can face challenges with ad blockers and browser privacy restrictions that may impact data collection reliability.

Edgee's Piano Analytics Gateway component transforms how Piano Analytics works on your site by making it fully first-party and **hosting it directly on your main domain**. 
This JS Gateway approach provides enhanced resilience against ad blockers while maintaining full JavaScript functionality.

<Frame>
  <img src="/images/piano-analytics-gateway-illustration.jpg"/>
</Frame>

Our Piano Analytics Gateway component allows you to use the Piano Analytics JavaScript SDK on your site in a fully first-party way, **hosted on your main domain**. 
While traditional analytics implementations load scripts from third-party domains, this unique integration allows Edgee to proxy and optimize the Piano Analytics SDK at the edge.
With this approach, Edgee acts as a secure proxy between your site and Piano Analytics, and you can use the Piano Analytics client-side SDK as you would normally do.

## Getting Started

**To integrate Piano Analytics Gateway into your Edgee project:**

1. Open the Edgee console and navigate to your project's Components.
2. Select "Add a component" and choose `edgee/piano-analytics-gateway` from the list of available components.
3. Add your Piano Analytics Site ID and your Piano Collection Domain.
4. Choose your [path prefix](#path-prefix).
5. Select the mode of the [injection](#automatic-sdk-injection).
6. Click Save.

#### Path Prefix

<Frame>
  <img src="/images/path-prefix.png"/>
</Frame>

When using the gateway setup, you need to specify a custom path prefix for the Piano Analytics SDK to serve your analytics on your main domain.
This helps prevent ad blockers from detecting and blocking the analytics scripts. You can change this value at any time to maintain effectiveness.
We automatically generate one for you, but feel free to modify it if needed.

For example, if you choose `/piano` as a path prefix, all requests coming to `www.yourdomain.com/piano/something` will be forwarded to your Piano Analytics.

#### Automatic SDK Injection

<Frame>
  <img src="/images/tag-injection.png"/>
</Frame>

When enabled, the Piano Analytics SDK will be automatically added to your website. If disabled, you'll need to add the Piano Analytics SDK code to your website manually **and handle its initialization based on user consent**.

#### Mode

<Frame>
  <img src="/images/mode.png"/>
</Frame>

If you choose to inject the SDK automatically, the mode determines when the Piano Analytics SDK is injected based on the user's consent.

- **Safe**: The Piano Analytics SDK will be injected into the website only when the user consent is `granted`.
- **Strong**: The Piano Analytics SDK will be injected into the website when the user consent is `pending` or `granted`.
- **Always**: The Piano Analytics SDK will be always injected into the website regardless of the user consent status.

## Benefits

- **First-party hosting**: All Piano Analytics requests are served from your main domain
- **Ad blocker resistance**: Enhanced protection against ad blockers and privacy tools
- **Performance optimization**: Edge-optimized delivery for faster loading
- **Full SDK functionality**: Maintains all Piano Analytics JavaScript SDK capabilities
- **Privacy compliance**: Better alignment with browser privacy policies

For more details on Piano Analytics implementation, refer to the 
[official Piano Analytics documentation](https://developers.atinternet-solutions.com/piano-analytics/data-collection/how-to-send-events/collection-api).