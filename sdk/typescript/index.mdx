---
title: TypeScript SDK
sidebarTitle: Typescript
description: Integrate the TypeScript SDK in your application.
icon: "https://d3gk2c5xim1je2.cloudfront.net/devicon/typescript.svg"
---

The Edgee TypeScript SDK provides a lightweight, type-safe interface to interact with the Edgee AI Gateway. It supports OpenAI-compatible chat completions and function calling.

## Installation

```bash
npm install edgee
```

## Quick Start

```typescript
import Edgee from 'edgee';

const edgee = new Edgee(process.env.EDGEE_API_KEY);

const response = await edgee.send({
  model: 'gpt-4o',
  input: 'What is the capital of France?',
});

console.log(response.choices[0].message.content);
// "The capital of France is Paris."
```

## Configuration

The SDK can be configured in multiple ways:

### Using Environment Variables

```typescript
// Set EDGEE_API_KEY
const edgee = new Edgee();
```

### Using Constructor Parameters

```typescript
// String API key (backward compatible)
const edgee = new Edgee('your-api-key');

// Configuration object
const edgee = new Edgee({
  apiKey: 'your-api-key',
  baseUrl: 'https://api.edgee.ai', // optional, defaults to https://api.edgee.ai
});
```

## Usage Examples

### Simple String Input

The simplest way to send a request is with a string input:

```typescript
const response = await edgee.send({
  model: 'gpt-4o',
  input: 'Explain quantum computing in simple terms.',
});

console.log(response.choices[0].message.content);
```

### Full Message Array

For more control, use a full message array:

```typescript
const response = await edgee.send({
  model: 'gpt-4o',
  input: {
    messages: [
      { role: 'system', content: 'You are a helpful assistant.' },
      { role: 'user', content: 'Hello!' },
    ],
  },
});

console.log(response.choices[0].message.content);
```

### Function Calling (Tools)

The SDK supports OpenAI-compatible function calling:

```typescript
const response = await edgee.send({
  model: 'gpt-4o',
  input: {
    messages: [
      { role: 'user', content: 'What is the weather in Paris?' },
    ],
    tools: [
      {
        type: 'function',
        function: {
          name: 'get_weather',
          description: 'Get the current weather for a location',
          parameters: {
            type: 'object',
            properties: {
              location: {
                type: 'string',
                description: 'City name',
              },
            },
            required: ['location'],
          },
        },
      },
    ],
    tool_choice: 'auto', // or 'none', or { type: 'function', function: { name: 'get_weather' } }
  },
});

// Check if the model wants to call a function
if (response.choices[0].message.tool_calls) {
  const toolCall = response.choices[0].message.tool_calls[0];
  console.log('Function:', toolCall.function.name);
  console.log('Arguments:', JSON.parse(toolCall.function.arguments));
}
```

### Tool Response Handling

After receiving a tool call, you can send the function result back:

```typescript
// First request - model requests a tool call
const response1 = await edgee.send({
  model: 'gpt-4o',
  input: {
    messages: [{ role: 'user', content: 'What is the weather in Paris?' }],
    tools: [/* ... tool definitions ... */],
  },
});

// Execute the function and send the result
const toolCall = response1.choices[0].message.tool_calls[0];
const functionResult = getWeather(JSON.parse(toolCall.function.arguments));

// Second request - include tool response
const response2 = await edgee.send({
  model: 'gpt-4o',
  input: {
    messages: [
      { role: 'user', content: 'What is the weather in Paris?' },
      response1.choices[0].message, // Include the assistant's message with tool_calls
      {
        role: 'tool',
        tool_call_id: toolCall.id,
        content: JSON.stringify(functionResult),
      },
    ],
  },
});

console.log(response2.choices[0].message.content);
```

## Streaming

The SDK supports streaming responses for real-time output. Use streaming when you want to display tokens as they're generated.

### Simple Text Streaming

The easiest way to stream is using `streamText()`, which yields only the text content:

```typescript
// Stream text only
for await (const text of edgee.streamText('gpt-4o', 'Tell me a story')) {
  process.stdout.write(text); // Print each token as it arrives
}
```

### Full Chunk Streaming

For more control, use `stream()` to access full chunk metadata:

```typescript
// Stream full chunks with metadata
for await (const chunk of edgee.stream('gpt-4o', 'Explain quantum computing')) {
  // First chunk contains the role
  if (chunk.role) {
    console.log('Role:', chunk.role);
  }

  // Content chunks
  if (chunk.text) {
    process.stdout.write(chunk.text);
  }

  // Last chunk contains finish reason
  if (chunk.finishReason) {
    console.log('\nFinish reason:', chunk.finishReason);
  }
}
```

### Streaming with Messages

Streaming works with full message arrays too:

```typescript
for await (const chunk of edgee.stream('gpt-4o', {
  messages: [
    { role: 'system', content: 'You are a helpful assistant.' },
    { role: 'user', content: 'Write a poem about coding' },
  ],
})) {
  if (chunk.text) {
    process.stdout.write(chunk.text);
  }
}
```

### Streaming Response Types

Streaming uses different response types:

```typescript
// StreamChunk - returned by stream()
interface StreamChunk {
  choices: {
    index: number;
    delta: {
      role?: string;
      content?: string;
      tool_calls?: ToolCall[];
    };
    finish_reason?: string | null;
  }[];

  // Convenience properties
  text: string | null;        // Get content from first choice
  role: string | null;        // Get role from first choice
  finishReason: string | null; // Get finish_reason from first choice
}
```

### Convenience Properties

Both `SendResponse` and `StreamChunk` have convenience properties for easier access:

```typescript
// Non-streaming response
const response = await edgee.send({ model: 'gpt-4o', input: 'Hello' });
console.log(response.text);         // Instead of response.choices[0].message.content
console.log(response.finishReason); // Instead of response.choices[0].finish_reason
console.log(response.toolCalls);    // Instead of response.choices[0].message.tool_calls

// Streaming response
for await (const chunk of edgee.stream('gpt-4o', 'Hello')) {
  console.log(chunk.text);         // Instead of chunk.choices[0]?.delta?.content
  console.log(chunk.role);         // Instead of chunk.choices[0]?.delta?.role
  console.log(chunk.finishReason); // Instead of chunk.choices[0]?.finish_reason
}
```

## Response Structure

The `send` method returns a `SendResponse` object:

```typescript
interface SendResponse {
  choices: {
    index: number;
    message: {
      role: string;
      content: string | null;
      tool_calls?: ToolCall[];
    };
    finish_reason: string | null;
  }[];
  usage?: {
    prompt_tokens: number;
    completion_tokens: number;
    total_tokens: number;
  };
}
```

### Accessing Response Data

```typescript
const response = await edgee.send({
  model: 'gpt-4o',
  input: 'Hello!',
});

// Get the first choice's content
const content = response.choices[0].message.content;

// Check finish reason
const finishReason = response.choices[0].finish_reason; // 'stop', 'length', 'tool_calls', etc.

// Access token usage
if (response.usage) {
  console.log(`Tokens used: ${response.usage.total_tokens}`);
  console.log(`Prompt tokens: ${response.usage.prompt_tokens}`);
  console.log(`Completion tokens: ${response.usage.completion_tokens}`);
}
```

## Type Definitions

The SDK exports TypeScript types for all request and response objects:

```typescript
import Edgee, {
  type Message,
  type Tool,
  type ToolChoice,
  type SendOptions,
  type SendResponse,
  type StreamChunk,
  type EdgeeConfig,
} from 'edgee';
```

### Message Types

```typescript
interface Message {
  role: 'system' | 'user' | 'assistant' | 'tool';
  content?: string;
  name?: string;
  tool_calls?: ToolCall[];
  tool_call_id?: string;
}
```

### Tool Types

```typescript
interface Tool {
  type: 'function';
  function: {
    name: string;
    description?: string;
    parameters?: Record<string, unknown>;
  };
}

type ToolChoice =
  | 'none'
  | 'auto'
  | { type: 'function'; function: { name: string } };
```

## Error Handling

The SDK throws errors for common issues:

```typescript
import Edgee from 'edgee';

try {
  const edgee = new Edgee(); // Throws if EDGEE_API_KEY is not set
} catch (error) {
  console.error('Configuration error:', error.message);
}

try {
  const response = await edgee.send({
    model: 'gpt-4o',
    input: 'Hello!',
  });
} catch (error) {
  console.error('Request failed:', error);
  // Handle API errors, network errors, etc.
}
```

## What's Next?

<CardGroup cols={2}>
  <Card title="API Reference" icon="terminal" href="/api-reference">
    Explore the full REST API documentation.
  </Card>
  <Card title="Supported Models" icon="brain" href="https://www.edgee.cloud/models">
    Browse 200+ models available through Edgee.
  </Card>
  <Card title="Features" icon="sparkles" href="/features">
    Learn about intelligent routing, observability, and privacy controls.
  </Card>
  <Card title="Quickstart Guide" icon="rocket" href="/quickstart">
    Get started with Edgee in minutes.
  </Card>
</CardGroup>